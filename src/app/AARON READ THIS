ownerId=aaron.byrne
firstName=aaron
lastName=byrne
email=aaron.nbyrn@gm.com
PARTICIPANT_CLASS=org.example.mynetwork.Member
participantData="{\"\$class\": \"${PARTICIPANT_CLASS}\", \"ownerId\": \"${ownerId}\", \"firstName\": \"${firstName}\", \"lastName\": \"${lastName}\", \"email\": \"${email}\"}"

{
  "$class": "org.example.mynetwork.Member",
  "email": "string",
  "firstName": "string",
  "lastName": "string",
  "ownerId": "string"
}

composer participant add -c admin@identiphone-network -d '{"$class":"org.hyperledger.composer.system.NetworkAdmin", "participantId":"restadmin"}'
composer identity issue -c admin@identiphone-network -f restadmin.card -u restadmin -a "resource:org.hyperledger.composer.system.NetworkAdmin#restadmin"
composer card import -f  restadmin.card

sed -e 's/localhost:7051/peer0.org1.example.com:7051/' -e 's/localhost:7053/peer0.org1.example.com:7053/' -e 's/localhost:7054/ca.org1.example.com:7054/'  -e 's/localhost:7050/orderer.example.com:7050/'  < $HOME/.composer/cards/restadmin@identiphone-network/connection.json  > /tmp/connection.json && cp -p /tmp/connection.json $HOME/.composer/cards/restadmin@identiphone-network/ 

docker run \
-d \
-e COMPOSER_CARD=${COMPOSER_CARD} \
-e COMPOSER_NAMESPACES=${COMPOSER_NAMESPACES} \
-e COMPOSER_AUTHENTICATION=${COMPOSER_AUTHENTICATION} \
-e COMPOSER_MULTIUSER=${COMPOSER_MULTIUSER} \
-e COMPOSER_PROVIDERS="${COMPOSER_PROVIDERS}" \
-e COMPOSER_DATASOURCES="${COMPOSER_DATASOURCES}" \
-v ~/.composer:/home/composer/.composer \
--name rest \
--network composer_default \
-p 3000:3000 \
myorg/composer-rest-server
